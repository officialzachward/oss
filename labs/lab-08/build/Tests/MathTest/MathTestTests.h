extern void test_expression(int x, int y, const char * text);
test_expression(5 * ( 3 + 4), 35, "5 * ( 3 + 4)");
test_expression((1 | 2 | 4 | 8) & 16, 0, "(1 | 2 | 4 | 8) & 16");
test_expression(1 +(3*4) + 10 >> 2, 5, "1 +(3*4) + 10 >> 2");
test_expression(10000 / 20 / 4, 125, "10000 / 20 / 4");
test_expression(10000 / (20 / 4), 2000, "10000 / (20 / 4)");
test_expression(-1 + +1, 0, "-1 + +1");
test_expression(+1 - -1, 2, "+1 - -1");
test_expression(+1 - - + + -(-3 + - - +1), 3, "+1 - - + + -(-3 + - - +1)");
test_expression(1000 -12*5, 940, "1000 -12*5");
test_expression(1000 +12*-5, 940, "1000 +12*-5");
test_expression(1000 -12*-5, 1060, "1000 -12*-5");
test_expression(~~1, 1, "~~1");
test_expression(1000 & ~0, 1000, "1000 & ~0");
test_expression(5 * ( 3 + 4), 35, "5 * ( 3 + 4)");
test_expression((1 | 2 | 4 | 8) & 16, 0, "(1 | 2 | 4 | 8) & 16");
test_expression(1 +(3*4) + 10 >> 2, 5, "1 +(3*4) + 10 >> 2");
test_expression(10000 / 20 / 4, 125, "10000 / 20 / 4");
test_expression(10000 / (20 / 4), 2000, "10000 / (20 / 4)");
test_expression(-1 + +1, 0, "-1 + +1");
test_expression(+1 - -1, 2, "+1 - -1");
test_expression(+1 - - + + -(-3 + - - +1), 3, "+1 - - + + -(-3 + - - +1)");
test_expression(1000 -12*5, 940, "1000 -12*5");
test_expression(1000 +12*-5, 940, "1000 +12*-5");
test_expression(1000 -12*-5, 1060, "1000 -12*-5");
test_expression(~~1, 1, "~~1");
test_expression(1000 & ~0, 1000, "1000 & ~0");
test_expression(5 * ( 3 + 4), 0x23, "5 * ( 3 + 4)");
test_expression((1 | 2 | 4 | 8) & 16, 0x0, "(1 | 2 | 4 | 8) & 16");
test_expression(1 +(3*4) + 10 >> 2, 0x5, "1 +(3*4) + 10 >> 2");
test_expression(10000 / 20 / 4, 0x7d, "10000 / 20 / 4");
test_expression(10000 / (20 / 4), 0x7d0, "10000 / (20 / 4)");
test_expression(-1 + +1, 0x0, "-1 + +1");
test_expression(+1 - -1, 0x2, "+1 - -1");
test_expression(+1 - - + + -(-3 + - - +1), 0x3, "+1 - - + + -(-3 + - - +1)");
test_expression(1000 -12*5, 0x3ac, "1000 -12*5");
test_expression(1000 +12*-5, 0x3ac, "1000 +12*-5");
test_expression(1000 -12*-5, 0x424, "1000 -12*-5");
test_expression(~~1, 0x1, "~~1");
test_expression(1000 & ~0, 0x3e8, "1000 & ~0");
test_expression(-12*5, -60, "-12*5");
test_expression(12*-5, -60, "12*-5");

